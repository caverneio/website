@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground/80;
  }

  /* Inline code */
  code:not([data-line-numbers]) {
    @apply whitespace-nowrap border px-2 pt-0.5 rounded-full bg-primary/10 text-xs sm:text-sm;
  }

  /* Block code */
  div[data-rehype-pretty-code-fragment] {
    @apply overflow-auto my-4 mb-4 bg-primary-foreground border rounded-lg flex flex-col relative md:w-[75vw] -translate-x-1/2 left-1/2;
    max-height: 75vh;
  }

  div[data-rehype-pretty-code-title] {
    @apply mb-0.5 rounded-lg px-3 py-1 bg-primary sticky top-0 left-0 right-0 text-primary-foreground font-mono text-xs shadow-sm;
  }

  div[data-rehype-pretty-code-fragment] > pre {
    @apply sm:text-lg leading-6 py-2;
  }

  div[data-rehype-pretty-code-fragment] > pre > code {
    @apply grid;
  }

  code[data-line-numbers] {
    counter-reset: lineNumber;
  }

  div[data-rehype-pretty-code-fragment] [data-line] {
    @apply border-l-4 border-l-transparent pl-2 pr-6;
  }

  div[data-rehype-pretty-code-fragment] [data-line]::before {
    @apply text-right inline-block w-6 mr-5 text-primary/20;
    content: counter(lineNumber);
    counter-increment: lineNumber;
  }

  div[data-rehype-pretty-code-fragment] [data-highlighted-line] {
    @apply border-l-primary bg-primary/10;
  }

  div[data-rehype-pretty-code-fragment] [data-highlighted-line]::before {
    @apply text-primary/50;
  }

  /* Dark / Light mode for blocks */
  pre[data-theme="light"],
  code[data-theme="light"],
  div[data-rehype-pretty-code-title=""][data-theme="light"] {
    @apply block dark:hidden;
  }

  pre[data-theme="dark"],
  code[data-theme="dark"],
  div[data-rehype-pretty-code-title=""][data-theme="dark"] {
    @apply hidden dark:block;
  }
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0px 1000px #000 inset;
  transition: background-color 5000s ease-in-out 0s;
}

ol > li > .li-bullet {
  display: none;
}

ol > li > .li-content {
  margin-left: 13.3px;
}

ul > li > .li-content {
  margin-left: 35px;
}
